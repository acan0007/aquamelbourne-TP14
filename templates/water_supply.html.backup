<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Aquamelbourne |Saving Water</title>
    <link rel="icon" type="image/x-icon" href="/static/assets/favicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="/static/css/styles.css" rel="stylesheet" />
    <style>
        /* Optional: Show dropdown on hover */
        .nav-item.dropdown:hover .dropdown-menu {
            display: block;
            margin-top: 0;
        }
    </style>
</head>

<body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
        <div class="container px-4 px-lg-5">
            <a class="navbar-brand" href="/">Home</a>
            <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
                aria-label="Toggle navigation">
                Menu
                <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/#about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/articles">Articles</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="" id="waterInsightsDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Water Insights
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="waterInsightsDropdown">
                            <li><a class="dropdown-item" href="/projects">Water Quality Dashboard</a></li>
                            <li><a class="dropdown-item" href="/nitrogen-dashboard">Nitrogen Pollution</a></li>
                            <li><a class="dropdown-item" href="/stormwater-dashboard">Stormwater Pits</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/water-supply">Water Supply Hub</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Masthead-->
    <header class="masthead">
        <div class="container px-4 px-lg-5 d-flex h-100 align-items-center justify-content-center">
            <div class="d-flex justify-content-center">
                <div class="text-center">
                    <h1 class="mx-auto my-0 text-uppercase" style="font-size: 80px;">How much water Are You saving?</h1>
                    <h2 class="text-white-50 mx-auto mt-2 mb-5">

                        It is never too late for you to take action to reduce your water usage in the home. Together,
                        track your water usage here.
                    </h2>
                    <a class="btn btn-primary" href="#Introduction">Content Below</a>
                </div>
            </div>
        </div>
    </header>



    <section class="tyt text-center pt-0 bg-light" id="about">
        <div class="container px-4 px-lg-5" style="padding-top: 0; max-width: 98vw; margin: auto;">

            <!-- <div class="col-md-3 d-none d-md-block w-100"
                style="border: 1px solid black; height: 0; margin-top: 70px; margin-bottom: 70px"></div> -->

            <div class="row" id="Introduction">
                <div class="col-12 text-end mt-5">
                    <p class="text-uppercase"
                        style="font-size: 45px; font-family: 'Varela Round', sans-serif; font-weight: 400; color: black; line-height: 104px; letter-spacing: 20px;">
                        Are we consuming too much Water?
                    </p>
                </div>
            </div>
            <div class="col-12 text-start mt-3" style="margin-left: 10px;">
                <h3>Look at the water storage level, water consumption level and expenditure level in Victoria.
                </h3>
            </div>

            <div id="map-section" style="margin: 20px;">
                <h2>Our Location</h2>
                <iframe src="/water" width="1200" height="650" style="border:0;" allowfullscreen="" loading="lazy">
                </iframe>
            </div>

            <div class="instruction-box mt-lg-5">
                <h3 class="mt-5 mb-3">Instructions</h3>
                <ul class="text-start" style="margin-left: 10vw;">
                    View Selection:<br>

                    At the bottom of the chart, you will see three tabs:<br>
                    &#x2022; Consumption and Use<br>
                    &#x2022; Expenditure<br>
                    &#x2022; Rainfall and Dam Storage<br>
                    (Click on any of these tabs to switch between different visualizations. Each tab shows a different
                    dataset and chart.)<br>
                    <br>
                    Interacting with the Rainfall and Dam Storage Chart:<br>

                    &#x2022; The chart shows two types of data over the years (e.g., 2014-2022):<br>
                    &#x2022; Rainfall (in mm): Represented by the blue bars.<br>
                    &#x2022; Dam Storage (in ML): Represented by the line with data points.<br>
                    &#x2022; Hover over any data point or bar to view the exact rainfall amount and dam storage for that
                    particular year.
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                </ul>
            </div>


        </div>


        <style>
            /* Style adjustments for the modal */
            .modal-header {
                background-color: #28a745;
                /* Bootstrap success color */
                color: white;
            }

            .modal-footer {
                display: flex;
                justify-content: center;
            }
        </style>

        <section>
            <div class="container">
                <div class="row">
                    <div class="col-12 text-end mt-5">

                        <div class="col-md-3 d-none d-md-block w-100"
                            style="border: 1px solid black; height: 0; margin-top: 70px; margin-bottom: 50px"></div>

                        <p class="text-uppercase text-center"
                            style="font-size: 45px; font-family: 'Varela Round', sans-serif; font-weight: 400; color: black; line-height: 104px; letter-spacing: 20px;">
                            How much water can you save?
                        </p>
                    </div>
                </div>


                <section id="calculator" class="p-3">
                    <div class="container">
                        <div class="card">
                            <div class="card-header text-center pt-4">
                                <h3>Water Savings Calculator</h3>
                            </div>

                            <!-- Water Savings Method -->

                            <div class="row" style="margin-left: 20px; margin-right: 20px;">
                                <div>
                                    <h5 class="mt-4 mb-3"> To get started select one of the following water
                                        savings method</h5>
                                </div>

                                <div class="row">
                                    <!-- Card 1 - Toilet Flush -->
                                    <div class="col-md-4 mt-2">
                                        <div class="card mb-4 select-method" data-water="10" style="height: 300px;">
                                            <div class="card-body"
                                                style="background-image: url('/static/assets/img/i.jpg'); background-size: cover; height: 100%;">
                                                <h5 class="card-title text-white text-center"
                                                    style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
                                                    Toilet Flush</h5>
                                                <p class="card-text text-white text-center"
                                                    style="position: absolute; top: 65%; left: 50%; transform: translate(-50%, -50%);">
                                                    Saves 10 litres per flush</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Card 2 - Shower Wash -->
                                    <div class="col-md-4 mt-2">
                                        <div class="card mb-4 select-method" data-water="20" style="height: 300px;">
                                            <div class="card-body"
                                                style="background-image: url('/static/assets/img/shower.jpg'); background-size: cover; height: 100%;">
                                                <h5 class="card-title text-white text-center"
                                                    style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
                                                    Shower Wash</h5>
                                                <p class="card-text text-white text-center"
                                                    style="position: absolute; top: 65%; left: 50%; transform: translate(-50%, -50%);">
                                                    Saves 20 litres per wash</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Card 3 - Washer -->
                                    <div class="col-md-4 mt-2">
                                        <div class="card mb-4 select-method" data-water="10" style="height: 300px;">
                                            <div class="card-body"
                                                style="background-image: url('/static/assets/img/ric.webp'); background-size: cover; height: 100%;">
                                                <h5 class="card-title text-white text-center"
                                                    style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
                                                    Washer</h5>
                                                <p class="card-text text-white text-center"
                                                    style="position: absolute; top: 65%; left: 50%; transform: translate(-50%, -50%);">
                                                    Saves 10 litres per wash</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <!-- Inputs for Water Tariff, Usage, Household Members, and Assumptions -->
                            <div class="card-body" style="margin-left: 20px; margin-right: 20px;">
                                <div class="row mb-3">
                                    <label for="water-savings-method" class="col-form-label col-6"
                                        style="text-align: left;">1. Water Savings
                                        Method:</label>
                                    <div class="col-6">
                                        <input type="text" class="form-control" id="water-savings-method"
                                            placeholder="Select a Water Savings Method Above" disabled>
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <label for="tariff-unit" class="col-form-label col-6" style="text-align: left;">2.
                                        Water Tariff Unit:</label>
                                    <div class="col-6">
                                        <select class="form-select" id="tariff-unit">
                                            <option value="1">Per Litre</option>
                                            <option value="1000">Per Cubic Meter</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <label for="water-tariff" class="col-form-label col-6" style="text-align: left;">3.
                                        Current Water Tariff (in
                                        AUD):</label>
                                    <div class="col-6">
                                        <input type="number" class="form-control" id="water-tariff"
                                            placeholder="Enter the water tariff">
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <label for="number-of-items" class="col-form-label col-6"
                                        style="text-align: left;">4. Number of Items in use
                                        (e.g.,
                                        Showerheads or Washers):</label>
                                    <div class="col-6">
                                        <input type="number" class="form-control" id="number-of-items"
                                            placeholder="Enter number of items">
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <label for="household-members" class="col-form-label col-6"
                                        style="text-align: left;">5. Household
                                        Members:</label>
                                    <div class="col-6">
                                        <input type="number" class="form-control" id="household-members"
                                            placeholder="Number of people in the household">
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <label for="assumption" class="col-form-label col-6" style="text-align: left;">6.
                                        Usage Assumption:</label>
                                    <div class="col-6">
                                        <select class="form-select" id="assumption">
                                            <option value="shared">All members share one item</option>
                                            <option value="own">Each member has their own</option>
                                        </select>
                                        <small class="form-text text-muted usage-description" id="usage-description">
                                            (Assumes all members share one item)
                                        </small>
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <label for="time-period" class="col-form-label col-6" style="text-align: left;">7.
                                        Period of Usage:</label>
                                    <div class="col-6">
                                        <select class="form-select" id="time-period">
                                            <option value="1">Per Day</option>
                                            <option value="7">Per Week</option>
                                            <option value="30">Per Month</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <label for="water-usage" class="col-form-label col-6" style="text-align: left;">8.
                                        How Many times using the water
                                        saving
                                        method:</label>
                                    <div class="col-6">
                                        <input type="number" class="form-control" id="water-usage"
                                            placeholder="Enter a number">
                                    </div>
                                </div>

                                <div class="row mb-4 mt-lg-5">
                                    <div class="col-12 d-flex justify-content-center gap-3">
                                        <button type="button" class="btn btn-secondary btn-sm"
                                            id="resetFilters">Reset</button>
                                        <button type="button" class="btn btn-primary" id="calculate">Calculate</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
            </div>
        </section>


        <!-- Error Modal -->
        <div class="modal fade" id="errorModal" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content border-danger">
                    <div class="modal-header bg-danger text-white">
                        <h5 class="modal-title" id="errorModalLabel">Error</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <span id="error-message"></span>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal for Results -->
        <div class="modal fade" id="resultsModal" tabindex="-1" aria-labelledby="resultsModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="resultsModalLabel">Congratulations!</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body text-center">
                        <h4 class="mt-5 mb-5">You have saved</h4>
                        <div class="row justify-content-center align-items-center">
                            <div class="col-auto">
                                <div class="card  d-inline-block" style="width: 120px;">
                                    <div class="card-body d-flex justify-content-center align-items-center">
                                        <span id="money-saved" style="font-weight: bold;">$0 AUD</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-auto mx-1">AND</div>
                            <div class="col-auto">
                                <div class="card  d-inline-block" style="width: 150px;">
                                    <div class="card-body d-flex justify-content-center align-items-center">
                                        <span id="water-saved" style="font-weight: bold;">0 Litres</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script>
            let selectedMethod = null;

            document.querySelectorAll('.select-method').forEach(card => {
                card.addEventListener('click', function () {
                    document.querySelectorAll('.select-method').forEach(c => c.classList.remove('border-4', 'border-secondary'));
                    this.classList.add('border-4', 'border-secondary');
                    selectedMethod = this.getAttribute('data-water');
                    document.getElementById('water-savings-method').value = this.querySelector('.card-title').innerText;
                });
            });

            document.getElementById('calculate').addEventListener('click', function () {
                const tariffUnit = parseInt(document.getElementById('tariff-unit').value);
                const tariff = parseFloat(document.getElementById('water-tariff').value);
                const usage = parseInt(document.getElementById('water-usage').value);
                const householdMembers = parseInt(document.getElementById('household-members').value);
                const numberOfItems = parseInt(document.getElementById('number-of-items').value);
                const assumption = document.getElementById('assumption').value;
                const periodMultiplier = parseInt(document.getElementById('time-period').value);

                // Validations
                if (!selectedMethod || !isValidPositiveInteger(usage) || !isValidPositiveInteger(householdMembers) ||
                    !isValidPositiveInteger(numberOfItems) || tariff < 0) {

                    const errorMessage = "Please enter positive integers for usage, household members, and number of items, and a valid non-negative tariff.";
                    document.getElementById('error-message').innerText = errorMessage;

                    // Show the error modal
                    const errorModal = new bootstrap.Modal(document.getElementById('errorModal'));
                    errorModal.show();

                    return; // exit the function
                }

                // Calculate water saved and money saved
                const waterSavedPerUse = selectedMethod ? parseInt(selectedMethod) : 0;
                const totalWaterSaved = waterSavedPerUse * usage * (assumption === "own" ? householdMembers : 1) * periodMultiplier;

                // Determine the unit based on selected tariff unit
                const waterUnit = tariffUnit === 1 ? "Litres of Water" : "Cubic Meters of Water";
                const moneySaved = totalWaterSaved * (tariff / tariffUnit);

                document.getElementById('water-saved').innerText = `${Math.round(totalWaterSaved)} ${waterUnit}`;
                document.getElementById('money-saved').innerText = `$${moneySaved.toFixed(2)} AUD`;


                // Show the modal
                const resultsModal = new bootstrap.Modal(document.getElementById('resultsModal'));
                resultsModal.show();
            });


            document.getElementById('resetFilters').addEventListener('click', function () {
                document.getElementById('water-tariff').value = "";
                document.getElementById('water-usage').value = "";
                document.getElementById('household-members').value = "";
                document.getElementById('number-of-items').value = "";
                document.getElementById('water-savings-method').value = "";
                selectedMethod = null;
                document.querySelectorAll('.select-method').forEach(c => c.classList.remove('border-primary'));
            });

            // Update usage description based on assumption selection
            document.getElementById('assumption').addEventListener('change', function () {
                const usageDescription = document.getElementById('usage-description');
                if (this.value === "shared") {
                    usageDescription.innerText = "(Assumes all members share one item)";
                } else {
                    usageDescription.innerText = "(Assumes each member has their own item)";
                }
            });

            function isValidPositiveInteger(value) {
                return Number.isInteger(value) && value > 0;
            }
        </script>



        </div>
    </section>



    <!-- Contact-->

    <section class="contact-section bg-black mt-5" id="contact">
        <div class="container px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5">
                <div class="col-md-4 mb-3 mb-md-0">
                    <div class="card py-4 h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-map-marked-alt text-primary mb-2"></i>
                            <h4 class="text-uppercase m-0">Address</h4>
                            <hr class="my-4 mx-auto" />
                            <div class="small text-black-50">
                                Wellington Rd, Clayton, VIC 3800
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-3 mb-md-0">
                    <div class="card py-4 h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-envelope text-primary mb-2"></i>
                            <h4 class="text-uppercase m-0">Email</h4>
                            <hr class="my-4 mx-auto" />
                            <div class="small text-black-50">
                                <a href="#!">aquamelbourne@gmail.com</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-3 mb-md-0">
                    <div class="card py-4 h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-mobile-alt text-primary mb-2"></i>
                            <h4 class="text-uppercase m-0">Phone</h4>
                            <hr class="my-4 mx-auto" />
                            <div class="small text-black-50">(03) 9905 4000</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="social d-flex justify-content-center">
                <a class="mx-2" href="#!"><i class="fab fa-twitter"></i></a>
                <a class="mx-2" href="#!"><i class="fab fa-facebook-f"></i></a>
                <a class="mx-2" href="#!"><i class="fab fa-github"></i></a>
            </div>
        </div>
    </section>


    <!-- Floating Back To Top  Button -->
    <a href="javascript:void(0)" id="backToTop" class="back-to-top "
        style="display:none; position: fixed; right: 32px; bottom: 32px; width: 56px; height: 56px; background-color: #1857a0; color: white; text-decoration: none; cursor: pointer; z-index: 999; display: flex; align-items: center; justify-content: center; border: 0; border-radius: 100%; box-shadow: 0 4px 16px 0 rgba(0,0,0,0.4);">
        <svg class="icon__arrow-up" viewBox="0 0 24 24" style="fill: white; width: 32px; height: 32px;">
            <title>Back to top</title>
            <path
                d="M18.71,11.71a1,1,0,0,1-1.42,0L13,7.41V19a1,1,0,0,1-2,0V7.41l-4.29,4.3a1,1,0,0,1-1.42-1.42l6-6a1,1,0,0,1,1.42,0l6,6A1,1,0,0,1,18.71,11.71Z">
            </path>
        </svg>
    </a>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const backToTop = document.getElementById('backToTop');
            const amountScrolled = 300;

            window.addEventListener('scroll', function () {
                window.scrollY >= amountScrolled
                    ? backToTop.style.display = 'flex'
                    : backToTop.style.display = 'none';
            });

            backToTop.addEventListener('click', function () {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });
    </script>

    <!-- Footer-->
    <footer class="footer bg-black small text-center text-white-50">
        <div class="container px-4 px-lg-5">
            Copyright &copy; Aqua Melbourne 2024
        </div>
    </footer>

    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="/static/js/scripts.js"></script>
    <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
</body>

</html>
